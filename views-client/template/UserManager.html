
<div>

    <div class="col-md-12">
        <div class="portlet-title">

        </div>
        <div class="portlet-body">
            <div class="form-group select2-bootstrap-prepend">
                <div class="col-md-4">
                    <a href="javascript:;" class="btn btn-sm btn-primary" ng-click="openEditUser('','User')">
                        <i class="fa fa-plus-circle"></i>&nbsp; Thêm mới
                    </a>
                    <a class="btn btn-primary btn-sm" ng-click="exportToExcel()"><i class="fa fa-file-excel-o"></i> Xuất Excel</a>

                </div>

                <div class="col-md-4">
                    <select ng-disabled="CurDonVi.NhomLoai != 'ADMIN'" 
                            class="form-control input-sm select2" 
                            ng-model="Paging.maDV" ng-change="LoadUser()" convert-to-number>
                        <option value="0">---Chọn Đơn vị---</option>
                        <option ng-repeat="dv in DonVi" value="{{dv.Id}}">{{dv.TenDonVi}}</option>
                    </select>

                </div>


                <div class="col-md-4">
                    <div class="input-group">
                        <input type="text" ng-model="Paging.searchKey"
                               ng-model-options="{updateOn: 'change'}"
                               class="form-control input-sm" placeholder="Nhập từ khóa để tìm kiếm...">
                        <div class="input-group-btn">
                            <a class="btn btn-default input-sm" ng-click="LoadUser()">
                                <i class="fa fa-search"></i>
                            </a>
                        </div>
                    </div>

                </div>

            </div>


            <div class="col-md-12">
                <div class="text-center" ng-show="loading" style="left: 50%; top: 50%; position: fixed; z-index: 1000; display: block;">
                    <img src="../../31.gif" />
                </div>

                <div class="table-scrollable">
                    <!-- BEGIN FORM-->
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th style="vertical-align:middle" class="text-center" width="1px"> STT </th>
                                <th style="vertical-align:middle" class="text-center"> Tên đăng nhập </th>
                                <th style="vertical-align:middle" class="text-center"> Họ tên </th>
                                <th style="vertical-align:middle" class="text-center"> Đơn vị </th>
                                <th style="vertical-align:middle" class="text-center"> Chức vụ </th>
                                <th style="vertical-align:middle" ng-show="checkAdmin" class="text-center" width="1px"> # </th>
                                <th style="vertical-align:middle" class="text-center" width="1px"> # </th>
                                <th style="vertical-align:middle" class="text-center" width="1px"
                                    ng-show="checkAdmin">#</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr class="odd gradeX" ng-repeat="u in Users">
                                <td width="1px" class="text-center"> {{ $index + Paging.pageStart }} </td>
                                <td> <a ng-click="openEditUser(u,'User')">{{ u.UserName }}</a> </td>
                                <td> {{ u.HoTen }} </td>
                                <td> {{ u.TenDonVi }} </td>
                                <td> {{ u.ChucVu }} </td>
                                <td align="center" ng-show="checkAdmin" width="1px"><a title="Đặt lại mật khẩu" ng-click="ResetPass(u)"> <i class="fa fa-undo"></i></a> </td>
                                <td align="center" width="1px"><a title="Sửa" ng-click="openEditUser(u,'User')"> <i class="fa fa-edit"></i> </a></td>
                                <td align="center" width="1px" ng-show="checkAdmin">
                                    <a title="Xóa" ng-click="DeleteUser(u.UserName)"><i class="fa fa-trash font-red"></i></a>
                                </td>
                                
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
            <div>
                <div class="pull-left col-md-3">
                    <div class="input-group col-md-12">
                        <span class="input-group-addon"> Hiển thị </span>
                        <select ng-model="Paging.pageSize"
                                ng-options="template.value as template.text for template in displayPage"
                                ng-change="LoadUser()" class="form-control select2"></select>

                    </div>
                </div>
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <div class="pull-right" style="margin-top:-10px">
                        <div class="dataTables_paginate paging_bootstrap_extended" id="datatable_products_paginate">
                            <div class="pagination-panel">
                                Trang
                                <a href="#" class="btn btn-sm default prev " ng-click="PrePage()" title="Trang trước">
                                    <i class="fa fa-angle-left"></i>
                                </a><input type="text" allow-only-numbers ng-model="Paging.currentPage" class="pagination-panel-input form-control input-mini input-inline input-sm" maxlenght="5" style="text-align:center; margin: 0 5px;" ng-change="LoadUser()" ng-model-options="{updateOn: 'change'}">
                                <a href="#" class="btn btn-sm default next " ng-click="NextPage()" title="Trang tiếp theo"><i class="fa fa-angle-right"></i></a> của
                                <span class="pagination-panel-total">{{Paging.totalPage}}</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>


<script>
    $(document).ready(function () {
        ComponentsSelect2.init();
    });
    
</script>



<!-- END MAIN CONTENT -->
